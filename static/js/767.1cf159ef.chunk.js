"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[767],{3767:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var n=r(9439),a=r(2791),c=r(7689),i=r(9323),o=r(184),u=function(t){var e=t.review,r=e.author,n=e.content;return(0,o.jsxs)("li",{children:[(0,o.jsxs)("h2",{children:[" ",r]}),(0,o.jsx)("p",{children:n})]})},s=function(t){var e=t.reviews;return(0,o.jsx)("ul",{children:e&&e.map((function(t){return(0,o.jsx)(u,{review:t},t.id)}))})},p=r(1362),l=function(){var t=(0,c.UO)().movieId,e=(0,a.useState)([]),r=(0,n.Z)(e,2),u=r[0],l=r[1],f=(0,a.useState)(!1),h=(0,n.Z)(f,2),v=h[0],d=h[1];return(0,a.useEffect)((function(){d(!0),(0,i.Jh)(t).then((function(t){if(200!==t.status)throw new Error("Error in request: ".concat(t.status));l((0,i.jr)(t.data.results))})).catch((function(t){return console.error(t)})).finally((function(){return d(!1)}))}),[t]),(0,o.jsxs)("div",{children:[v&&(0,o.jsx)(p.Z,{}),u.length?(0,o.jsx)(s,{reviews:u}):(0,o.jsx)("h3",{children:"There is no reviews on this movie yet..."})]})}},9323:function(t,e,r){r.d(e,{CB:function(){return f},Gc:function(){return v},Je:function(){return p},Jh:function(){return m},Pg:function(){return h},Ph:function(){return l},fh:function(){return w},jr:function(){return g},tC:function(){return d}});var n=r(5861),a=r(4687),c=r.n(a),i=r(1243),o="https://api.themoviedb.org/3",u="ae38d5c8baf36c9c4ca14e9456f3c0fd",s="https://upload.wikimedia.org/wikipedia/commons/3/3f/Placeholder_view_vector.svg",p=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/trending/movie/day?api_key=").concat(u,"&page=").concat(e||1));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(c().mark((function t(e,r){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/search/movie?api_key=").concat(u,"&language=en-US&query=").concat(e,"&page=").concat(r||1));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),f=function(t){return t.map((function(t){var e;return{title:t.title?t.title:t.name,w300imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):s,w500imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):s,year:t.release_date?t.release_date.slice(0,4):(null===t||void 0===t||null===(e=t.first_air_date)||void 0===e?void 0:e.slice(0,4))||"",id:t.id}}))},h=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US"));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(u));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(t){return t.map((function(t){return{name:t.name?t.name:t.original_name,w300imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.profile_path):s,w500imgUrl:t.profile_path?"https://image.tmdb.org/t/p/w500".concat(t.profile_path):s,character:t.character,id:t.id}}))},m=function(){var t=(0,n.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,(0,i.Z)("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(u));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(t){return t.map((function(t){return{author:t.author,content:t.content,id:t.id}}))},w=function(t){var e,r,n=t.genres.map((function(t){return t.name}));return r=0===n.length?"Other":n.length<=2?n.join(", "):"".concat(n.slice(0,2).join(", "),", Other"),{title:t.title?t.title:t.name,titleOriginal:t.original_title,popularity:t.popularity,vote:t.vote_average,votes:t.vote_count,w300imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):s,w500imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):s,genres:r,about:t.overview,year:t.release_date?t.release_date.slice(0,4):(null===t||void 0===t||null===(e=t.first_air_date)||void 0===e?void 0:e.slice(0,4))||""}}}}]);
//# sourceMappingURL=767.1cf159ef.chunk.js.map