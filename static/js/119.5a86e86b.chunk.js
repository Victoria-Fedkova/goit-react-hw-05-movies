"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[119],{6119:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(9439),a=n(2791),c=n(7689),i=n(9323),o=n(184),u=function(t){var e=t.actor,n=e.name,r=e.w300imgUrl,a=e.w500imgUrl,c=e.character;return(0,o.jsxs)("li",{children:[(0,o.jsx)("img",{srcSet:"".concat(r," 300w, ").concat(a," 500w"),sizes:"(max-width: 767px) 300px, (min-width: 768px) 500px",src:a,alt:n,loading:"lazy"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:[" ",n]}),(0,o.jsx)("p",{children:c})]})]})},s=function(t){var e=t.cast;return console.log("cast",e),(0,o.jsx)("ul",{children:e&&e.map((function(t){return(0,o.jsx)(u,{actor:t},t.id)}))})},p=n(1362),l=function(){var t=(0,c.UO)().movieId,e=(0,a.useState)([]),n=(0,r.Z)(e,2),u=n[0],l=n[1],f=(0,a.useState)(!1),h=(0,r.Z)(f,2),d=h[0],m=h[1];return(0,a.useEffect)((function(){m(!0),(0,i.Gc)(t).then((function(t){if(200!==t.status)throw new Error("Error in request: ".concat(t.status));l((0,i.tC)(t.data.cast))})).catch((function(t){return console.error(t)})).finally((function(){return m(!1)}))}),[t]),(0,o.jsxs)("div",{children:[d&&(0,o.jsx)(p.Z,{}),(0,o.jsx)(s,{cast:u})]})}},9323:function(t,e,n){n.d(e,{CB:function(){return f},Gc:function(){return d},Je:function(){return p},Jh:function(){return v},Pg:function(){return h},Ph:function(){return l},fh:function(){return w},jr:function(){return g},tC:function(){return m}});var r=n(5861),a=n(4687),c=n.n(a),i=n(1243),o="https://api.themoviedb.org/3",u="ae38d5c8baf36c9c4ca14e9456f3c0fd",s="https://upload.wikimedia.org/wikipedia/commons/3/3f/Placeholder_view_vector.svg",p=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/trending/movie/day?api_key=").concat(u,"&page=").concat(e||1));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/search/movie?api_key=").concat(u,"&language=en-US&query=").concat(e,"&page=").concat(n||1));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(t){return t.map((function(t){var e;return{title:t.title?t.title:t.name,w300imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):s,w500imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):s,year:t.release_date?t.release_date.slice(0,4):(null===t||void 0===t||null===(e=t.first_air_date)||void 0===e?void 0:e.slice(0,4))||"",id:t.id}}))},h=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Z)("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(u));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(t){return t.map((function(t){return{name:t.name?t.name:t.original_name,w300imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.profile_path):s,w500imgUrl:t.profile_path?"https://image.tmdb.org/t/p/w500".concat(t.profile_path):s,character:t.character,id:t.id}}))},v=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,(0,i.Z)("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(u));case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(t){return t.map((function(t){return{author:t.author,content:t.content,id:t.id}}))},w=function(t){var e,n,r=t.genres.map((function(t){return t.name}));return n=0===r.length?"Other":r.length<=2?r.join(", "):"".concat(r.slice(0,2).join(", "),", Other"),{title:t.title?t.title:t.name,titleOriginal:t.original_title,popularity:t.popularity,vote:t.vote_average,votes:t.vote_count,w300imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):s,w500imgUrl:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):s,genres:n,about:t.overview,year:t.release_date?t.release_date.slice(0,4):(null===t||void 0===t||null===(e=t.first_air_date)||void 0===e?void 0:e.slice(0,4))||""}}}}]);
//# sourceMappingURL=119.5a86e86b.chunk.js.map